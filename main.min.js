function test(){return new Promise((e,t)=>{var n=new XMLHttpRequest,o=(new Date).getTime(),s=o,a=o,r=0;n.onreadystatechange=function(){if(1==n.readyState&&(a=(new Date).getTime()),2==n.readyState&&(o=(new Date).getTime(),r=o-a),4==n.readyState){s=(new Date).getTime();var t=n.responseText.length,i=8*t,c=(s-o)/1e3,l=i/c/1048576;e({speed:l,latency:r})}},n.open("GET","https://sp-axpot-telefonica.eaqbr.com.br/download/2?_="+(new Date).getTime(),!0),n.send()})}function median(e){const t=e.slice().sort((e,t)=>e-t),n=Math.floor(t.length/2);return t.length%2==0?(t[n-1]+t[n])/2:t[n]}var results=[],time=10,i=1;stop=!1,setInterval(function(){document.querySelector(".velocidade.pcg").style.width=`${100*i/time}%`,i++},1e3),setTimeout(function(){stop=!0,0==results.length&&(document.querySelector(".velocidade.text").innerHTML="Your internet is too slow")},1e3*time),(async()=>{for await(r of Array.from({length:1024},(e,t)=>t+1)){var e=await test();if(console.log(e),results.push(e.speed),document.querySelector(".velocidade.text").innerHTML=`${median(results).toFixed(2)}<span>mbps</span>`,document.querySelector(".velocidade.ping").innerHTML=`${e.latency}<span>ms</span>`,stop){document.querySelector(".velocidade.box").classList.remove("testing"),document.querySelector(".velocidade.display").classList.remove("testing");break}}})();